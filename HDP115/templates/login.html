{% load static %}
{% load widget_tweaks %}

<link href="{% static 'css/login.css'%}" rel="stylesheet" type="text/css"/>
<!--
<div>
    <center>
        <h1>Iniciar sesión</h1>
        <form class="container-fluid" method="post">
                {% csrf_token %}
                {{ form.as_p }}
            <button class="btn btn-primary" type="submit">INICIAR SESION</button>
        </form>
    </center>
</div>
-->

<link href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<script src="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<!------ Include the above in your HEAD tag ---------->

<div class="wrapper fadeInDown">
  <div id="formContent">
    <!-- Tabs Titles -->

    <!-- Icon -->
    <div class="fadeIn first">
        <h1>Iniciar Sesión</h1>
    </div>

    <!-- Login Form -->
    <form role="form" action="." method="post">
        <input type="hidden" name="next" value="{{ next }}">
        {% csrf_token %}  
        <fieldset>
            <div class="form-grup">
              {{form.username|add_class:'form-control'|attr:'autocomplete:off'|attr:'placeholder:Ingrese su usuario'}}
            </div>
            <div class="form">
              {{form.password|add_class:'form-control'|attr:'autocomplete:off'|attr:'placeholder:Ingrese su contraseña'}}
            </div>
            <div class="form">
                <button type="submit" class="btn btn-lg btn-success btn-block"> Acceder </button>    
            </div>
            </fieldset>
    </form>


  </div>
</div>


{% block scripts %}
    <script type= application/javascript>
      {%if form.errors%}
        var errors = '';
        {%for field in form%}
          {% for error in field.errors %}
            errors += '{{ error }}\n';
          {% endfor %}
        {% endfor %}
        {% for error in form.non_field_errors %}
        errors += '{{ error }}\n';
        {% endfor %}
        Swal.fire({
          icon: 'error',
          text: errors,
        })
      {% endif %}
    </script>
{% endblock %}